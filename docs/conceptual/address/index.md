住所
=====

# 場所を示す住所の用途

住所には

* 郵送物を送付するための住所
* 場所を示すための住所
* 入力支援のための住所
* 通称としての住所

# 住所の変更

## 留意すべき異動

### 市区町村の合併に伴う住所の変更

### 分割統合

# 郵便番号による検索

郵便番号は住所から一義的に決まらない
法人郵便番号 建物・フロアまで決まる場合がある。
郵便物発送のためには・郵政バーコード・住所は不要
一方で所在地は存在する。

郵便番号から住所を検索する際には

1. 法人住所を検索する。
2. 一般郵便番号を検索する。
3. その他住所情報を検索する。

1.でヒットした場合、2.をスキップし3を直接行う。
1.でヒットしなかった場合、2.を行い3を行う。

1.でヒットした場合、結果は1件
2.でヒットした場合は、結果は複数件となる。

# 住所情報の変更

市町村合併 自治体コードが変わるので必然的に住所コードが変更される。
同時に大字小字名が変わる場合がある。

## 自治体の合併時のシナリオ

```puml

class 住所 {
  住所ID
}

class 住所コード異同 {
  住所ID
  摘要開始日付
  摘要終了日付
}

class 都道府県 {
  都道府県ID
  都道府県コード
  カナ名称
  漢字名称
  有効開始日付
  有効終了日付
}

class 市区町村 {
  市区町村ID
  市区町村コード
  カナ名称
  漢字名称
  有効開始日付
  有効終了日付
}

class 都道府県市区町村対照表 {
  都道府県ID
  市区町村ID
  有効開始日付
  有効終了日付
}

class 大字 {
  大字ID
  大字コード
  カナ名称
  漢字名称
  有効開始日付
  有効終了日付
}

class 都道府県市区町村大字対照表 {
  都道府県ID
  市区町村ID
  大字ID
  有効開始日付
  有効終了日付
}

class 小字 {
  小字ID
  小字コード
  カナ名称
  漢字名称
  有効開始日付
  有効終了日付
}

class 都道府県市区町村大字対照表 {
  都道府県ID
  市区町村ID
  大字ID
  小字ID
  有効開始日付
  有効終了日付
}

```