リソース管理画面のパターン
-----

リソース管理画面のパターンを語る前に前提として

# リソースの種類

* 世代型式(Generation)
* 変更履歴型式(ChangeHistory)
* 世代・変更履歴型式（世代型式,変更履歴型式の物）

があります。

# 例) 元号

元号は世代を持ったデータで、日付によって有効な元号が変わります。

```puml
title: 世代データ
class 元号 <<R>>{
    元号ID
}
class 元号世代 <<R>>{
    元号世代ID <<PK>>
    元号ID <<FK>>
    略
    和名
}
class 元号世代適用開始 <<E>>{
    元号世代ID <<PK>>
    適用開始日時
}

class 元号世代適用終了 <<E>>{
    元号世代ID <<PK>>
    適用終了日時
}
class 元号世代対照表 <<VIEW>> {
    元号世代ID
    元号ID
    適用開始日付
    適用終了日付
}

class 現在元号世代対照表 <<VIEW>> {
    元号世代ID
    元号ID
}
```

```puml
title: 履歴データ
class 顧客 <<R>>{
    顧客ID
}

class 顧客履歴 <<R>>{
    顧客履歴ID <<PK>>
    顧客ID <<FK>>
    顧客名 ...
    登録日時
    削除日時
}
```

```puml
title: 世代履歴データ
class 顧客 <<R>>{
    顧客ID
}

class 顧客履歴 <<R>>{
    顧客履歴ID <<PK>>
    顧客ID <<FK>>
    顧客名 ...
    連絡先 ...
}
class 顧客履歴適用開始 <<E>>{
    顧客履歴ID <<PK>>
    適用開始日付
    登録日時
}

class 顧客履歴適用終了 <<E>>{
    顧客履歴ID <<PK>>
    適用終了日付
    登録日時
}

class 顧客適用対照表 <<VIEW>>{
    顧客履歴ID
    顧客ID
    適用開始日付
    適用終了日付
}

class 現在顧客適用対照表 <<VIEW>>{
    顧客履歴ID
    顧客ID
}

```

# インスタンス

```puml
title: 世代データ
object 平成元号 <<R>>{
    元号ID = 1
}
object 令和元号 <<R>>{
    元号ID = 2
}

object 平成世代 <<R>>{
    元号世代ID =1
    元号ID = 1
    略 = H
    和名 = 平成
}
object 令和世代 <<R>>{
    元号世代ID = 2
    元号ID = 2
    略 = R
    和名 = 令和
}

object 平成世代適用開始 <<E>>{
    元号世代ID 1
    適用開始日付 = 1989-1-8
}

class 平成世代適用終了 <<E>>{
    元号世代ID = 1
    適用終了日付 = 2019-4-30
}

object 令和世代適用開始 <<E>>{
    元号世代ID 2
    適用開始日付 = 2019-5-1
}

object 平成世代対照表 <<VIEW>> {
    元号世代ID = 1
    元号ID = 1
    適用開始日付 = 1989-1-8
    適用終了日付 = 2019-4-30
}

object 令和世代対照表 <<VIEW>> {
    元号世代ID = 2
    元号ID = 2
    適用開始日付 = 2019-5-1
    適用終了日付 = 9999-12-30
}

object 現在元号世代対照表 <<VIEW>> {
    元号世代ID = 2
    元号ID = 2
}
```

```puml
title: 履歴データ
object 顧客 <<R>>{
    顧客ID = 1
}

object 顧客履歴 <<R>>{
    顧客履歴ID 1
    顧客ID 1
    顧客名 = 顧客花子
    登録日時 = 2023-1-1
    削除日時
}
object 顧客履歴 <<R>>{
    顧客履歴ID 2
    顧客ID 1
    顧客名 = お客花子
    登録日時 = 2023-6-1
    削除日時
}
object 顧客履歴 <<R>>{
    顧客履歴ID 3
    顧客ID 1
    顧客名 = お客花子
    登録日時 = 2023-9-30
    削除日時 = 2023-9-30
}
```